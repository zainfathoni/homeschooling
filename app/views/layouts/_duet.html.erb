<%# locals: (student_list: nil, weekly_grid:, daily_focus:) %>
<%#
  Responsive Duet Layout:
  - Mobile: Single column, weekly grid only (daily via bottom nav)
  - Tablet (md:768px+): Weekly grid 60% | Daily focus 40%
  - iPad Duet (lg:1024px+): Student list 35% | Weekly grid 40% | Daily focus 25%
%>

<% if student_list %>
  <%# Three-panel iPad Duet layout %>
  <div class="hidden lg:grid lg:grid-cols-12 lg:gap-4 lg:h-[calc(100vh-4rem)] lg:p-4">
    <%# Student list: ~35% (4/12 columns) %>
    <div class="lg:col-span-3 lg:overflow-auto">
      <%= student_list %>
    </div>

    <%# Weekly grid: ~40% (5/12 columns) %>
    <div class="lg:col-span-5 lg:overflow-auto">
      <%= weekly_grid %>
    </div>

    <%# Daily Focus: ~25% (4/12 columns) %>
    <div class="lg:col-span-4 lg:overflow-auto">
      <%= turbo_frame_tag "daily_focus" do %>
        <%= daily_focus %>
      <% end %>
    </div>
  </div>

  <%# Two-panel tablet layout (hidden on lg+) %>
  <div class="hidden md:grid md:grid-cols-5 md:gap-4 md:h-[calc(100vh-4rem)] md:p-4 lg:hidden">
    <div class="md:col-span-3 md:overflow-auto">
      <%= weekly_grid %>
    </div>
    <div class="md:col-span-2 md:overflow-auto">
      <%= turbo_frame_tag "daily_focus" do %>
        <%= daily_focus %>
      <% end %>
    </div>
  </div>

  <%# Mobile layout (hidden on md+) %>
  <div class="md:hidden">
    <%= weekly_grid %>
  </div>

<% else %>
  <%# Original two-panel layout (for backward compatibility) %>
  <div class="md:grid md:grid-cols-5 md:gap-4 md:h-[calc(100vh-4rem)] md:p-4">
    <div class="md:col-span-3 md:overflow-auto">
      <%= weekly_grid %>
    </div>
    <div class="hidden md:block md:col-span-2 md:overflow-auto">
      <%= turbo_frame_tag "daily_focus" do %>
        <%= daily_focus %>
      <% end %>
    </div>
  </div>
<% end %>
