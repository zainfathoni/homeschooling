<%# locals: (completed:, total:) %>
<% percentage = total.positive? ? (completed.to_f / total * 100).round : 0 %>

<%= turbo_frame_tag "progress_ring" do %>
  <div class="relative w-20 h-20 mx-auto my-4">
    <svg class="w-full h-full transform -rotate-90" viewBox="0 0 36 36">
      <circle cx="18" cy="18" r="16" fill="none" stroke="#E5E7EB" stroke-width="3"/>
      <circle cx="18" cy="18" r="16" fill="none" stroke="#F08080" stroke-width="3"
              stroke-dasharray="<%= percentage %>, 100" stroke-linecap="round"/>
    </svg>
    <div class="absolute inset-0 flex flex-col items-center justify-center">
      <span class="text-xl font-bold text-gray-800"><%= completed %>/<%= total %></span>
      <span class="text-xs text-gray-500">tasks</span>
    </div>
  </div>
<% end %>
