<%# locals: (student:, date:) %>
<div id="new_quick_note_form">
  <%= form_with url: student_quick_notes_path(student), method: :post, scope: :quick_note, class: "space-y-3", multipart: true do |form| %>
    <%= form.hidden_field :date, value: date %>

    <%= form.text_area :content, rows: 2,
        placeholder: "Add a quick note...",
        class: "w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-coral focus:border-coral resize-none" %>

    <div>
      <label class="block text-xs font-medium text-gray-500 mb-1">
        <span class="flex items-center gap-1">🎙️ Voice note <span class="text-gray-400 font-normal">(optional)</span></span>
      </label>
      <%= form.file_field :audio,
          accept: "audio/*",
          capture: "microphone",
          class: "w-full border border-gray-300 rounded-lg px-3 py-1.5 text-sm focus:ring-2 focus:ring-coral focus:border-coral file:mr-3 file:py-1 file:px-3 file:rounded-lg file:border-0 file:bg-coral file:text-white file:cursor-pointer file:text-sm" %>
    </div>

    <%= form.submit "Add Note",
        class: "w-full bg-coral text-white px-4 py-2 rounded-lg text-sm font-medium hover:bg-coral/90 cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed min-h-[44px]",
        data: { turbo_submits_with: "Adding..." } %>
  <% end %>
</div>
